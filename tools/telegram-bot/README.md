# Telegram Bot –¥–ª—è —Ä–∞—Å–ø—Ä–µ–¥–µ–ª–µ–Ω–∏—è IP-–∞–¥—Ä–µ—Å–æ–≤ —Å—Ç—É–¥–µ–Ω—Ç–∞–º

–≠—Ç–æ—Ç –±–æ—Ç –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –Ω–∞–∑–Ω–∞—á–∞–µ—Ç IP-–∞–¥—Ä–µ—Å–∞ –≤–∏—Ä—Ç—É–∞–ª—å–Ω—ã—Ö –º–∞—à–∏–Ω (192.168.2.101-120) —Å—Ç—É–¥–µ–Ω—Ç–∞–º –∏–∑ Telegram-—á–∞—Ç–∞ –∏ —Ñ–æ—Ä–º–∏—Ä—É–µ—Ç —Ç–∞–±–ª–∏—Ü—É —Ä–∞—Å–ø—Ä–µ–¥–µ–ª–µ–Ω–∏—è.

## –í–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏

- –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –ø–æ–ª—É—á–µ–Ω–∏–µ —Å–ø–∏—Å–∫–∞ —É—á–∞—Å—Ç–Ω–∏–∫–æ–≤ —á–∞—Ç–∞
- –ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ IP-–∞–¥—Ä–µ—Å–æ–≤ –∏–∑ –¥–∏–∞–ø–∞–∑–æ–Ω–∞ 192.168.2.101-120
- –§–æ—Ä–º–∏—Ä–æ–≤–∞–Ω–∏–µ —Ç–∞–±–ª–∏—Ü—ã –≤ Markdown —Ñ–æ—Ä–º–∞—Ç–µ
- –°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –Ω–∞–∑–Ω–∞—á–µ–Ω–∏–π –º–µ–∂–¥—É –ø–µ—Ä–µ–∑–∞–ø—É—Å–∫–∞–º–∏
- –ü—Ä–æ—Å—Ç–æ–µ —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —á–µ—Ä–µ–∑ –∫–æ–º–∞–Ω–¥—ã

## –ö–æ–º–∞–Ω–¥—ã –±–æ—Ç–∞

- `/start` - –ü—Ä–∏–≤–µ—Ç—Å—Ç–≤–∏–µ –∏ —Å–ø–∏—Å–æ–∫ –∫–æ–º–∞–Ω–¥
- `/assign` - –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –Ω–∞–∑–Ω–∞—á–∏—Ç—å IP –≤—Å–µ–º —É—á–∞—Å—Ç–Ω–∏–∫–∞–º —á–∞—Ç–∞
- `/table` - –ü–æ–∫–∞–∑–∞—Ç—å —Ç–∞–±–ª–∏—Ü—É —Å –Ω–∞–∑–Ω–∞—á–µ–Ω–Ω—ã–º–∏ IP
- `/reset` - –°–±—Ä–æ—Å–∏—Ç—å –≤—Å–µ –Ω–∞–∑–Ω–∞—á–µ–Ω–∏—è
- `/help` - –°–ø—Ä–∞–≤–∫–∞

## –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –∏ –∑–∞–ø—É—Å–∫

### 1. –°–æ–∑–¥–∞–π—Ç–µ –±–æ—Ç–∞ –≤ Telegram

1. –ù–∞–π–¥–∏—Ç–µ [@BotFather](https://t.me/BotFather) –≤ Telegram
2. –û—Ç–ø—Ä–∞–≤—å—Ç–µ –∫–æ–º–∞–Ω–¥—É `/newbot`
3. –°–ª–µ–¥—É–π—Ç–µ –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏—è–º (—É–∫–∞–∂–∏—Ç–µ –∏–º—è –∏ username –±–æ—Ç–∞)
4. –°–∫–æ–ø–∏—Ä—É–π—Ç–µ —Ç–æ–∫–µ–Ω –±–æ—Ç–∞ (–≤—ã–≥–ª—è–¥–∏—Ç –∫–∞–∫ `123456789:ABCdefGHIjklMNOpqrsTUVwxyz`)

### 2. –£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏

```bash
cd tools/telegram-bot
python3 -m venv venv
source venv/bin/activate  # –ù–∞ Windows: venv\Scripts\activate
pip install -r requirements.txt
```

### 3. –ù–∞—Å—Ç—Ä–æ–π—Ç–µ —Ç–æ–∫–µ–Ω

–°–æ–∑–¥–∞–π—Ç–µ —Ñ–∞–π–ª `.env` –Ω–∞ –æ—Å–Ω–æ–≤–µ `.env.example`:

```bash
cp .env.example .env
```

–û—Ç–∫—Ä–æ–π—Ç–µ `.env` –∏ –≤—Å—Ç–∞–≤—å—Ç–µ —Ç–æ–∫–µ–Ω –≤–∞—à–µ–≥–æ –±–æ—Ç–∞:

```
TELEGRAM_BOT_TOKEN=123456789:ABCdefGHIjklMNOpqrsTUVwxyz
```

### 4. –ó–∞–ø—É—Å—Ç–∏—Ç–µ –±–æ—Ç–∞

```bash
python bot.py
```

### 5. –î–æ–±–∞–≤—å—Ç–µ –±–æ—Ç–∞ –≤ –≥—Ä—É–ø–ø—É

1. –î–æ–±–∞–≤—å—Ç–µ –±–æ—Ç–∞ –≤ –≤–∞—à—É —É—á–µ–±–Ω—É—é –≥—Ä—É–ø–ø—É –≤ Telegram
2. **–í–ê–ñ–ù–û:** –°–¥–µ–ª–∞–π—Ç–µ –±–æ—Ç–∞ –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–æ–º –≥—Ä—É–ø–ø—ã (–Ω—É–∂–Ω–æ –¥–ª—è –ø–æ–ª—É—á–µ–Ω–∏—è —Å–ø–∏—Å–∫–∞ —É—á–∞—Å—Ç–Ω–∏–∫–æ–≤)
3. –û—Ç–ø—Ä–∞–≤—å—Ç–µ –∫–æ–º–∞–Ω–¥—É `/assign` –≤ –≥—Ä—É–ø–ø–µ

## –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ

### –ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ IP-–∞–¥—Ä–µ—Å–æ–≤

–û—Ç–ø—Ä–∞–≤—å—Ç–µ –≤ –≥—Ä—É–ø–ø—É –∫–æ–º–∞–Ω–¥—É:
```
/assign
```

–ë–æ—Ç –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏:
1. –ü–æ–ª—É—á–∏—Ç —Å–ø–∏—Å–æ–∫ —É—á–∞—Å—Ç–Ω–∏–∫–æ–≤ –≥—Ä—É–ø–ø—ã
2. –ù–∞–∑–Ω–∞—á–∏—Ç –∫–∞–∂–¥–æ–º—É —É–Ω–∏–∫–∞–ª—å–Ω—ã–π IP –∏–∑ –¥–∏–∞–ø–∞–∑–æ–Ω–∞ 192.168.2.101-120
3. –ü–æ–∫–∞–∂–µ—Ç —Ç–∞–±–ª–∏—Ü—É —Å –Ω–∞–∑–Ω–∞—á–µ–Ω–∏—è–º–∏

### –ü—Ä–æ—Å–º–æ—Ç—Ä —Ç–∞–±–ª–∏—Ü—ã

```
/table
```

–í—ã–≤–æ–¥:
```
üìä –¢–∞–±–ª–∏—Ü–∞ —Ä–∞—Å–ø—Ä–µ–¥–µ–ª–µ–Ω–∏—è IP-–∞–¥—Ä–µ—Å–æ–≤:

| –§–ò–û —É—á–∞—Å—Ç–Ω–∏–∫–∞                  | IP-–∞–¥—Ä–µ—Å      |
| ------------------------------ | ------------- |
| –ò–≤–∞–Ω–æ–≤ –ò–≤–∞–Ω                    | 192.168.2.101 |
| –ü–µ—Ç—Ä–æ–≤ –ü–µ—Ç—Ä                    | 192.168.2.102 |
| –°–∏–¥–æ—Ä–æ–≤–∞ –ê–Ω–Ω–∞                  | 192.168.2.103 |
```

### –°–±—Ä–æ—Å –Ω–∞–∑–Ω–∞—á–µ–Ω–∏–π

–ï—Å–ª–∏ –Ω—É–∂–Ω–æ –Ω–∞—á–∞—Ç—å –∑–∞–Ω–æ–≤–æ:
```
/reset
```

## –°—Ç—Ä—É–∫—Ç—É—Ä–∞ —Ñ–∞–π–ª–æ–≤

```
telegram-bot/
‚îú‚îÄ‚îÄ bot.py                 # –û—Å–Ω–æ–≤–Ω–æ–π –∫–æ–¥ –±–æ—Ç–∞
‚îú‚îÄ‚îÄ requirements.txt       # Python-–∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏
‚îú‚îÄ‚îÄ .env.example          # –ü—Ä–∏–º–µ—Ä —Ñ–∞–π–ª–∞ —Å –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–º–∏ –æ–∫—Ä—É–∂–µ–Ω–∏—è
‚îú‚îÄ‚îÄ .env                  # –í–∞—à —Ñ–∞–π–ª —Å —Ç–æ–∫–µ–Ω–æ–º (–Ω–µ –∫–æ–º–º–∏—Ç–∏—Ç—Å—è –≤ git)
‚îú‚îÄ‚îÄ .gitignore            # –ò—Å–∫–ª—é—á–µ–Ω–∏—è –¥–ª—è git
‚îú‚îÄ‚îÄ README.md             # –≠—Ç–∞ –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏—è
‚îî‚îÄ‚îÄ students_ips.json     # –°–æ—Ö—Ä–∞–Ω–µ–Ω–Ω—ã–µ –Ω–∞–∑–Ω–∞—á–µ–Ω–∏—è (—Å–æ–∑–¥–∞–µ—Ç—Å—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏)
```

## –ü—Ä–∏–º–µ—á–∞–Ω–∏—è

- –ë–æ—Ç —Å–æ—Ö—Ä–∞–Ω—è–µ—Ç –Ω–∞–∑–Ω–∞—á–µ–Ω–∏—è –≤ —Ñ–∞–π–ª `students_ips.json`
- IP-–∞–¥—Ä–µ—Å–∞ –Ω–∞–∑–Ω–∞—á–∞—é—Ç—Å—è –≤ –ø–æ—Ä—è–¥–∫–µ –∞–ª—Ñ–∞–≤–∏—Ç–Ω–æ–π —Å–æ—Ä—Ç–∏—Ä–æ–≤–∫–∏ –∏–º–µ–Ω
- –ú–∞–∫—Å–∏–º—É–º 20 —Å—Ç—É–¥–µ–Ω—Ç–æ–≤ (101-120)
- –ü—Ä–∏ –ø–æ–≤—Ç–æ—Ä–Ω–æ–º –∑–∞–ø—É—Å–∫–µ `/assign` –Ω–æ–≤—ã–µ IP –Ω–∞–∑–Ω–∞—á–∞—é—Ç—Å—è —Ç–æ–ª—å–∫–æ –Ω–æ–≤—ã–º —É—á–∞—Å—Ç–Ω–∏–∫–∞–º
- –ë–æ—Ç—ã –∏—Å–∫–ª—é—á–∞—é—Ç—Å—è –∏–∑ —Å–ø–∏—Å–∫–∞ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏

## –û–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è Telegram Bot API

Telegram Bot API –∏–º–µ–µ—Ç –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è –Ω–∞ –ø–æ–ª—É—á–µ–Ω–∏–µ –ø–æ–ª–Ω–æ–≥–æ —Å–ø–∏—Å–∫–∞ —É—á–∞—Å—Ç–Ω–∏–∫–æ–≤ –≤ –±–æ–ª—å—à–∏—Ö –≥—Ä—É–ø–ø–∞—Ö. –ë–æ—Ç –≥–∞—Ä–∞–Ω—Ç–∏—Ä–æ–≤–∞–Ω–Ω–æ —Ä–∞–±–æ—Ç–∞–µ—Ç —Å:
- –ê–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–∞–º–∏ –≥—Ä—É–ø–ø—ã
- –ì—Ä—É–ø–ø–∞–º–∏ –¥–æ 200 —É—á–∞—Å—Ç–Ω–∏–∫–æ–≤ (–ø—Ä–∏ —É—Å–ª–æ–≤–∏–∏, —á—Ç–æ –±–æ—Ç - –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä)

–î–ª—è –±–æ–ª—å—à–∏—Ö –≥—Ä—É–ø–ø –ø–æ—Ç—Ä–µ–±—É–µ—Ç—Å—è –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å Telegram Client API (pyrogram/telethon).

## –†–∞—Å—à–∏—Ä–µ–Ω–∏–µ —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª–∞

–í—ã –º–æ–∂–µ—Ç–µ –ª–µ–≥–∫–æ –∏–∑–º–µ–Ω–∏—Ç—å:
- –î–∏–∞–ø–∞–∑–æ–Ω IP: –∏–∑–º–µ–Ω–∏—Ç–µ –∫–æ–Ω—Å—Ç–∞–Ω—Ç—ã `IP_BASE`, `IP_START`, `IP_END` –≤ `bot.py`
- –§–æ—Ä–º–∞—Ç —Ç–∞–±–ª–∏—Ü—ã: –∏–∑–º–µ–Ω–∏—Ç–µ —Ñ—É–Ω–∫—Ü–∏—é `show_table()`
- –î–æ–±–∞–≤–∏—Ç—å —ç–∫—Å–ø–æ—Ä—Ç –≤ —Ñ–∞–π–ª, –æ—Ç–ø—Ä–∞–≤–∫—É —Ç–∞–±–ª–∏—Ü—ã —Ñ–∞–π–ª–æ–º –∏ —Ç.–¥.
